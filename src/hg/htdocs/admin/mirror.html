<!DOCTYPE html>
<!--#set var="TITLE" value="UCSC Genome Browser: Mirror Instructions" -->
<!--#include virtual="/gbPageStart.html"-->

<h1>UCSC Genome Browser Mirror instructions</h1>

<h2>Procedure for Creating a Mirror of the UCSC Genome Browser</h2> 
<p> 
The <a href="http://genome-source.cse.ucsc.edu/gitweb/?p=kent.git;a=tree;f=src/product" 
target="_blank">most complete and up-to-date instructions for setting up a mirror</a> can be found 
in our source tree. You may choose to set up either a full or partial mirror of the browser, 
depending on your needs and disk space. Additionally, helpful blog posts are available for setting 
up a mirror site on <a href="http://bergmanlab.smith.man.ac.uk/?p=1111" target="_blank">CentOS</a> 
and <a href="http://enotacoes.wordpress.com/2009/09/03/installing-a-minimal-ucsc-mirror-in-ubuntu-jaunty-64-bits/" 
target="_blank">Ubuntu</a>.</p> 
<p> 
A <strong>license</strong> is required for commercial download and/or installation of the Genome 
Browser binaries and source code. No license is needed for academic, nonprofit, and personal use. 
To purchase a license, see our <a href="../license/index.html">license instructions</a> or visit the
<a href="https://genome-store.ucsc.edu">Genome Browser store</a>.</p> 
<p>
<strong>Space required:</strong><br> 
The amount of data available in the Genome Browser is constantly growing. To determine the size of 
any of the download directories mentioned in these instructions, use the rsync &quot;-n&quot; option
on the directory prior to actually transferring the data. For instance, to find the size of the 
<em>/gbdb</em> directory, run:</p>
<pre><code>rsync -navP rsync://hgdownload.cse.ucsc.edu/gbdb/ </code></pre>
<p> 
The rsync options used in this command are:</p>
<pre><code>-n, --dry-run         show what will be transferred
-a, --archive         archive mode, equivalent to -rlptgoD
-v, --verbose         increase verbosity
-P                    equivalent to --partial --progress </code></pre> 
<p> 
Mirror site questions may be directed to the mailing list 
<a href="mailto:&#103;en&#111;&#109;e&#45;&#109;&#105;&#114;&#114;&#111;&#114;&#64;&#115;&#111;&#101;.u&#99;&#115;c.e&#100;&#117;">&#103;en&#111;&#109;e&#45;&#109;&#105;&#114;&#114;&#111;&#114;&#64;&#115;&#111;&#101;.u&#99;&#115;c.e&#100;&#117;</a>. 
<!-- above address is genome-mirror at soe.ucsc.edu --> 
<strong>Messages sent to this address will be posted to the moderated genome-mirror mailing list, 
which is archived on a SEARCHABLE PUBLIC 
<a HREF="http://groups.google.com/a/soe.ucsc.edu/group/genome-mirror" 
target="_blank">Google Groups forum</a></strong>.</p>  
<p> 
<a href="http://groups.google.com/a/soe.ucsc.edu/group/genome-mirror?hl=en" 
target="_blank">Subscribe</a> to the genome-mirror mailing list.</p>

<h2>Using UDR to Speed Up the Download Process</h2> 
<p>
<a href="https://github.com/LabAdvComp/UDR" target="_blank">UDR</a> (UDT Enabled Rsync) is a 
download protocol that is very efficent at sending large amounts of data over long distances. UDR 
utilizes rsync as the transport mechanism, but sends the data over the UDT protocol. UDR is not 
written or managed by UCSC. It is an open source tool created by the 
<a href="http://www.labcomputing.org/" target="_blank">Laboratory for Advanced Computing</a> at the 
University of Chicago. It has been tested under Linux, FreeBSD and Mac OSX, but may work under other
UNIX variants. The source code can be obtained through <a href="https://github.com/LabAdvComp/UDR" 
target="_blank">GitHub</a>.</p> 
<p>
If you manually download data only occasionally, there is no need to change your method;
continue to visit our download server to download the files you need. This new protocol has been 
put in place primarily to facilitate quick downloads of huge amounts of data over long 
distances.</p> 
<p>
With typical TCP-based protocols like http, ftp and rsync, the transfer speed slows as the distance
between the download source and destination increases. Protocols like UDT/UDR allow for many UDP 
packets to be sent in batch, thus allowing for much higher transmission speeds over long distances. 
UDR will be especially useful for users who are downloading from locations distant to California. 
The East coast of the U.S. and the international community will likely see much higher download 
speeds when using UDR vs. rsync, http or ftp.</p> 
<p>
If you need help building the UDR binaries or have questions about how UDR functions, please read 
the documentation on the GitHub page and if necessary, contact the UDR authors via the GitHub page. 
We recommend reading the documentation on the UDR GitHub page to better understand how UDR works. 
UDR is written in C++. It is Open Source and is released under the Apache 2.0 License. In order for 
it to work, you must have rsync installed on your system.</p> 
<p>
For your convenience, we offer a binary distribution of UDR for Red Hat Enterprise Linux 
6.x (or variants such as CentOS 6 or Scientific Linux 6). You'll find both a 64-bit and 32-bit rpm 
<a href="http://hgdownload.cse.ucsc.edu/admin/udr">here</a>.</p> 
<p>
Once you have a working UDR binary, either by building one from source or installing the rpm, you 
can download files from either of our our download servers in a very similar fashion to rsync. For 
example, using rsync, you may want to download all of the MySQL tables for the hg19 database using 
the following command:</p>
<pre><code>rsync -avP rsync://hgdownload.cse.ucsc.edu/mysql/hg19/ /my/local/hg19/</code></pre> 
<p>
Using UDR is very similar. The UDR syntax for downloading the same data would be:</p>
<pre><code>udr rsync -avP hgdownload.cse.ucsc.edu::mysql/hg19/ /my/local/hg19/ </code></pre> 
<p>
If you installed the rpm, use the <code>man udr</code> command to view a man page with more 
information. If you installed from source, please refer to the UDR GitHub page for more details on 
the capabilities of UDR and how to use it.</p> 
<p>
UDR establishes connections on TCP/9000, then transmits the data stream over UDP/9000-9100. Your 
institution may need to modify its firewall rules to allow inbound and outbound ports TCP/9000 and 
UDP/9000-9100 from either of the two download machines.</p> 
<p> 
If you have difficulties installing or using UDR on your system, contact the Laboratory for Advanced
Computing through their GitHub <a href="https://github.com/LabAdvComp/UDR" 
target="_blank">page</a>.</p> 
<p> If you have questions about mirroring the UCSC Genome Browser, contact the mailing list 
<a href="mailto:&#103;en&#111;&#109;e&#45;&#109;&#105;&#114;&#114;&#111;&#114;&#64;&#115;&#111;&#101;.u&#99;&#115;c.e&#100;&#117;">&#103;en&#111;&#109;e&#45;&#109;&#105;&#114;&#114;&#111;&#114;&#64;&#115;&#111;&#101;.u&#99;&#115;c.e&#100;&#117;</a>. 
 <!-- above address is genome-mirror at soe.ucsc.edu --> 
<strong>Messages sent to this address will be posted to the moderated genome-mirror mailing list, 
which is archived on a SEARCHABLE PUBLIC 
<a href="http://groups.google.com/a/soe.ucsc.edu/group/genome-mirror" 
target="_blank">Google Groups forum</a></strong>.</p>  

<!--#include virtual="/gbPageEnd.html"-->
