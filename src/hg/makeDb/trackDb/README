This directory contains the track database for
the UCSC human genome browser.  The program
hgTrackDb converts the information here into
a 'trackDb' table in the assembly's MySQL database.

SEE ALSO: source tree file: src/product/README.trackDb
	  for a general discussion of developing tracks.

          trackDb.ra documentation:
          http://genome.ucsc.edu/goldenPath/help/trackDb/trackDbDoc.html

	  http://genome.ucsc.edu/admin/hgFindSpecHowTo.html
	  for instructions on hgFindSpec.

The bulk of the information about a track is
contained in the trackDb.ra file.  Tracks are
separated from each other in this file by
a blank line.  Each line begins with an
attribute name and is followed by attribute
value separated by white space.

The html text about a track is in separate
files named xxx.html where xxx is a
track name.  The contents of the HTML is subject
to variable substitution as described below.
Note that the html file in lower-level directories
can override the html in higher-level directories
without requiring an entry in trackDb.ra.

There may be subdirectories for each organism such
as 'mouse', and underneath these directories for
each database, such as 'mm10'.  There are a trackDb.ra
file and xxx.html files in these subdirectories.
Track descriptions in the subdirectory will
over-ride track descriptions in the parent directory.
This allows you to customize a track for
each version of the database.

xxx.html files may include the contents of other files
using this syntax:

<!--#insert file="sharedText.html"-->

where "sharedText.html" is a relative path, relative to
the directory that contains the xxx.html file.
This can also be made conditional on a database:

<!-- #if (db==hg19) #insert file="human/hg19/specialNote.html" -->


Here are some details on how to load various track types into the database
tables:

- type bedGraph [column]
In this case, the data table is a bed type of table loaded
with hgLoadBed.  The [column] specified is a numeric column of data
in the table to be used for the graphing value.  The default column
to graph would be column five, the 'score'.  All graphing options as
described in 'type wig' apply to this type of track.

- type bigBed <fieldCount> <extraInfo>
This uses a binary indexed file rather than a database table.  It is, other than
substituting "bigBed" for "bed" in the type line, the same as the "type bed".

The database loading procedure for the table is:
 hgBbiDbLink hg18 itemRgbBbTest /gbdb/hg18/bbi/itemRgb.hg18.bb
The file name given should be a full path name that can be accessed
by the Apache WEB server.  Or, the file name can also be a
valid URL to the bb file.
This loader is equivalent to:
 hgsql hg18 -e 'drop table if exists itemRgbBbTest;
  create table itemRgbBbTest (fileName varchar(255) not null);
  insert into itemRgbBbTest values
  ("/gbdb/hg18/bbi/itemRgb.hg18.bb");'

- type bigWig [lower] [upper]
This uses a binary indexed file rather than a database table.  It is, other
than substituting "bigWig" for "wig" in the type line, the same as the
"type wig".  

The database loading procedure is:
 hgBbiDbLink hg19 myLocalBigWig /gbdb/hg19/bbi/myLocalBigWig.bw
The file name given should be a full path name that can be accessed
by the Apache WEB server.  Or, the file name can also be a
valid URL to the bw file.
This loader is equivalent to:
 hgsql hg19 -e 'drop table if exists myLocalBigWig; \
  create table myLocalBigWig (fileName varchar(255) not null); \
  insert into myLocalBigWig values
  ("/gbdb/hg19/bbi/myLocalBigWig.bw");'

- type pgSnp
This type is used for the display of variants (for example, personal genome
variants).  It will display stacked boxes showing the proportion of reads
supporting each allele when frequency is available (in case of 2 alleles
only).  Also the details page will use the UCSC genes to compute any amino
acid changes.  

The track can be loaded using hgLoadBed and the -sqlTable 
option (see pgSnp.sql for the format).


After editing a track definition here, run ./loadTracks
which invokes hgTrackDb to bring it into the MySQL database.
To update your personal copy (on hgwdev-userName) do
    make update
to do it on genome-test do
    make alpha
You can also restrict a track to alpha, beta, or public
by using the release field.

