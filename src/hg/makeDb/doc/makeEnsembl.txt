#load ensembl gene predictions (build 43) and related tables by downloading from ensembl ftp site (Robert Mar 14,2007)
#following tables are loaded
#ensGene ensGeneChk ensGeneChkDetails ensGeneXref ensGtp ensInfo ensPseudo superfamily sfDescription knownToEnsembl
#scripts used:
#hgLoadEnsembl - main driver script that calls ensemblDownload, ensemblDbImport and loadEnsembl
#ensemblDownload - downloads data from ensembl ftp site to directory, creates tables.tmp containing list of ensembl tables to be loaded
#ensemblDbImport - loads tables into temporary database using the native ensembl mysql table structure 
#exportEnsembl - creates genePred files from the ensembl temporary database 
#geneCheckAndLoad - runs gene-check on a genePred and loads the two details tables into the database.
#ensemblSuperfamily -  load superfamily track using Ensembl cross reference
#loadEnsembl - loads data created by exportEnsembl into ensGene, creates and loads ensInfo table with attributes
#ensemblGetAll - generates script to load all ensembl builds, requires manual editting to add ucsc database
#ensGeneToGenePred - awk script called by loadEnsembl that converts dump of ensembl exons to genePred format
#mkRandomNTLift - read ctgPos table and make lift file
cd ~/kent/src/hg/makeDb/outside/ensembl
make
mkdir -p /cluster/store8/ensembl/run.build43
cd /cluster/store8/ensembl/run.build43
mkRandomNTLift hg18 > lift.hg18
mkRandomNTLift mm8 > lift.mm8
hgLoadEnsembl -l /cluster/store8/ensembl/run.build43/lift.hg18 homo_sapiens core_43_36e /cluster/store8/ensembl/homo_sapiens_43_36e hg18
hgLoadEnsembl -l /cluster/store8/ensembl/run.build43/lift.mm8 mus_musculus core_43_36d /cluster/store8/ensembl/mus_musculus_43_36d mm8
hgLoadEnsembl rattus_norvegicus core_43_34m /cluster/store8/ensembl/rattus_norvegicus_43_34m rn4
hgLoadEnsembl pan_troglodytes core_43_21b /cluster/store8/ensembl/pan_troglodytes_43_21b panTro2
hgLoadEnsembl canis_familiaris core_43_2a /cluster/store8/ensembl/canis_familiaris_43_2a canFam2
#hgLoadEnsembl danio_rerio core_43_6d /cluster/store8/ensembl/danio_rerio_43_6d danRer4
