#!/hive/groups/encode/dcc/bin/python
import sys, os, re, argparse, subprocess, math, datetime, time
from ucscgenomics import ra 


def main():

    parser = argparse.ArgumentParser(
        prog='raMerge',
        description='Merges two .ra files in a way that you would expect',
        epilog='example: raMerge alpha/wgEncodeUwTfbs.ra beta/wgEncodeUwTfbs.ra'
        )
    parser.add_argument('RaFileOne', help='The .ra file')
    parser.add_argument('RaFileTwo', help='The .ra file to merge with')


    if len(sys.argv) == 1:
        parser.print_help()
        return

    args = parser.parse_args(sys.argv[1:])
    ra1 = ra.RaFile(args.RaFileOne)
    ra2 = ra.RaFile(args.RaFileTwo)


    merged = ra1.mergeRa(ra2)
    for i in merged:
        print i

if __name__ == '__main__':
    main()
