# fbTables.sql was originally generated by the autoSql program, which also 
# generated fbTables.c and fbTables.h.  This creates the database representation of
# an object which can be loaded and saved from RAM in a fairly 
# automatic way.

#Links FlyBase IDs, gene symbols and gene names
CREATE TABLE fbGene (
    geneId varchar(255) not null,	# FlyBase ID
    geneSym varchar(255) not null,	# Short gene symbol
    geneName varchar(255) not null,	# Gene name - up to a couple of words
              #Indices
    INDEX(geneId(11)),
    INDEX(geneSym(8)),
    INDEX(geneName(12))
);

#Links FlyBase gene IDs and BDGP transcripts
CREATE TABLE fbGene (
    geneId varchar(255) not null,	# FlyBase ID
    transcriptId varchar(255) not null,	# BDGP Transcript ID
              #Indices
    INDEX(geneId(11)),
    PRIMARY KEY(transcriptId(11))
);

#Links all the names we call a gene to it's flybase ID
CREATE TABLE fbSynonym (
    geneId varchar(255) not null,	# FlyBase ID
    name varchar(255) not null,	# A name (synonym or real
              #Indices
    INDEX(geneId(11)),
    INDEX(name(12))
);

#The alleles of a gene
CREATE TABLE fbAllele (
    id int not null,	# Allele ID
    geneId varchar(255) not null,	# Flybase ID of gene
    name varchar(255) not null,	# Allele name
              #Indices
    PRIMARY KEY(id),
    INDEX(geneId(11))
);

#A literature or sometimes database reference
CREATE TABLE fbRef (
    id int not null,	# Reference ID
    text longblob not null,	# Usually begins with flybase ref ID, but not always
              #Indices
    PRIMARY KEY(id)
);

#Role of gene in wildType
CREATE TABLE fbRole (
    geneId varchar(255) not null,	# Flybase Gene ID
    fbAllele int not null,	# ID in fbAllele table or 0 if not allele-specific
    fbRef int not null,	# ID in fbRef table
    text longblob not null,	# Descriptive text
              #Indices
    INDEX(geneId(11))
);

#Observed phenotype in mutant.  Sometimes contains gene function info
CREATE TABLE fbPhenotype (
    geneId varchar(255) not null,	# Flybase Gene ID
    fbAllele int not null,	# ID in fbAllele table or 0 if not allele-specific
    fbRef int not null,	# ID in fbRef table
    text longblob not null,	# Descriptive text
              #Indices
    INDEX(geneId(11))
);
